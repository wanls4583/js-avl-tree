<html>

<head>
    <meta charset="UTF-8"></meta>
    <script type="text/javascript" src="../avl_tree.js"></script>
</head>

<body>
    <script type="text/javascript">
    function testInsert() {
        var tree = new AVLTree();
        var size = 100000;
        for (var i = 1; i <= size; i++) {
            tree.insert(i, 'data_' + i);
        }
        console.log('testInsert', tree.root);
        console.log('----------------------------------------');
    }

    function testDelete() {
        var tree = new AVLTree();
        var size = 100000;
        for (var i = 1; i <= size; i++) {
            tree.insert(i, 'data_' + i);
        }
        var retains = [];
        //只保留4个随机数目
        for (var i = 0; i < 4; i++) {
            retains.push((Math.random() * size) >> 0);
        }
        console.log('retains', retains);
        for (var i = 1; i <= size; i++) {
            if (retains.indexOf(i) == -1) {
                tree.delete(i);
            }
        }
        console.log('testDelete', tree.root);
        console.log('----------------------------------------');
    }

    function testSeach() {
        var tree = new AVLTree();
        var size = 100000;
        for (var i = 1; i <= size; i++) {
            tree.insert(i, 'data_' + i);
        }
        console.log('testSeach');
        for (var i = 0; i < 4; i++) {
            var tmp = (Math.random() * size) >> 0;
            console.log('key', tmp, tree.search(tmp));
        }
        console.log('----------------------------------------');
    }
    testInsert();
    testDelete();
    testSeach();
    </script>
</body>

</html>